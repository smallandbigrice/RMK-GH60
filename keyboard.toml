# =====================
# WXY64 Keyboard 配置
# =====================

[keyboard]
name = "WXY64"
product_name = "WXY64 Keyboard"
vendor_id = 0x4c4b
product_id = 0x4644
manufacturer = "WXY"
chip = "nrf52840"   # E73 模块

[matrix]
col2row = true
input_pins = ["P0.28", "P0.29", "P0.30", "P0.31", "P1.00"]
output_pins = [
  "P0.02","P0.03","P0.04","P0.05","P0.06","P0.07","P0.08",
  "P0.09","P0.10","P0.11","P0.12","P0.13","P0.14","P0.15"
]

[layout]
rows = 5
cols = 15
layers = 1

# 矩阵映射 (ANSI 64)
# 布局：标准 60% + 独立方向键
matrix_map = """
(0,0) (0,1) (0,2) (0,3) (0,4) (0,5) (0,6) (0,7) (0,8) (0,9) (0,10) (0,11) (0,12) (0,13) (0,14)
(1,0) (1,1) (1,2) (1,3) (1,4) (1,5) (1,6) (1,7) (1,8) (1,9) (1,10) (1,11) (1,12) (1,13)
(2,0) (2,1) (2,2) (2,3) (2,4) (2,5) (2,6) (2,7) (2,8) (2,9) (2,10) (2,11) (2,12)
(3,0) (3,1) (3,2) (3,3) (3,4) (3,5) (3,6) (3,7) (3,8) (3,9) (3,10) (3,11) (3,12) (3,13)
(4,0) (4,1) (4,2)             (4,6)                (4,9)  (4,10) (4,11) (4,12) (4,13) (4,14)
"""


# -----------------------
# 层定义
# -----------------------
[[layer]]
name = "base"
keys = """
Esc 1 2 3 4 5 6 7 8 9 0 Minus Equal BSpace Ins
Tab Q W E R T Y U I O P LBracket RBracket BSlash
CapsLock A S D F G H J K L SColon Quote Enter
LShift Z X C V B N M Comma Dot Slash RShift Up
LCtrl LGui LAlt          Space              RAlt Fn Left Down Right
"""

# -----------------------
# 行为配置
# -----------------------
[behavior]
tri_layer = { upper = 1, lower = 2, adjust = 3 }
one_shot = { timeout = "1s" }

# -----------------------
# 灯光配置
# -----------------------
[light]
capslock   = { pin = "P0.26", low_active = true }
scrolllock = { pin = "P0.17", low_active = true }
numslock   = { pin = "P0.18", low_active = true }



# -----------------------
# BLE 配置（E73 = nRF52840）
# -----------------------
[ble]
enabled = true
battery_adc_pin = "VDDH"
adc_divider_measured = 2000
adc_divider_total = 2806

